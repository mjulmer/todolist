(()=>{"use strict";var e={29:(e,t,n)=>{e.exports=n.p+"632af66ca076d32f233d.svg"},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},d=[],a=0;a<e.length;a++){var c=e[a],l=o.base?c[0]+o.base:c[0],s=i[l]||0,u="".concat(l," ").concat(s);i[l]=s+1;var m=n(u),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==m)t[m].references++,t[m].updater(p);else{var b=r(p,o);o.byIndex=a,t.splice(a,0,{identifier:u,updater:b,references:1})}d.push(u)}return d}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var d=0;d<i.length;d++){var a=n(i[d]);t[a].references--}for(var c=o(e,r),l=0;l<i.length;l++){var s=n(i[l]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}i=c}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},169:(e,t,n)=>{e.exports=n.p+"f59b47dd94b60dcf1c3d.svg"},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var d={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(d[c]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);o&&d[s[0]]||(void 0!==i&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=i),n&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=n):s[2]=n),r&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=r):s[4]="".concat(r)),t.push(s))}},t}},356:(e,t,n)=>{e.exports=n.p+"d9a9c721f3aa4a1041cb.svg"},365:(e,t,n)=>{n.d(t,{A:()=>L});var o=n(601),r=n.n(o),i=n(314),d=n.n(i),a=n(417),c=n.n(a),l=new URL(n(664),n.b),s=new URL(n(906),n.b),u=new URL(n(951),n.b),m=new URL(n(526),n.b),p=new URL(n(356),n.b),b=new URL(n(169),n.b),h=new URL(n(29),n.b),g=new URL(n(850),n.b),f=d()(r()),v=c()(l),y=c()(s),k=c()(u),w=c()(m),S=c()(p),x=c()(b),C=c()(h),q=c()(g);f.push([e.id,`:root.dark {\n  --background-color: black;\n  --text-color: #867c68;\n  --selected-item-color: #87abc4;\n  --sidebar-background-color: #201308;\n  --modal-background-color: #535353;\n  --pencil-icon: url(${v});\n  --broom-icon: url(${y});\n  --delete-icon: url(${k});\n}\n\n:root.light {\n  --background-color: #eed0b8;\n  --text-color: black;\n  --selected-item-color: #b48966;\n  --sidebar-background-color: burlywood;\n  --modal-background-color: aliceblue;\n  --pencil-icon: url(${w});\n  --broom-icon: url(${S});\n  --delete-icon: url(${x});\n}\n\nbody {\n  background-color: var(--background-color, black);\n  color: var(--text-color, white);\n  display: grid;\n  margin: 0;\n  height: 100vh;\n  width: 100vw;\n  gap: 3rem;\n  grid-template-rows: 50px 1fr;\n  grid-template-columns: 10rem 1fr;\n  font-family: "Verdana", "Geneva", "Tahoma", sans-serif;\n}\n\n#header {\n  grid-column: 2 / -1;\n  display: flex;\n  justify-content: end;\n  padding: 0.5rem;\n}\n\n#color-theme-toggle {\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  background-color: var(--background-color, black);\n}\n\n#color-theme-toggle.dark {\n  /* background-color: black; */\n  background-image: url(${C});\n}\n\n#color-theme-toggle.light {\n  /* background-color: white; */\n  background-image: url(${q});\n}\n\nul {\n  padding: 0;\n}\n\n.sidebar {\n  grid-row: 1 / -1;\n  background-color: var(--sidebar-background-color, black);\n  padding: 1rem;\n}\n\n.flex {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 1rem;\n}\n\n.container {\n  border: solid 2px burlywood;\n  border-radius: 5px;\n  padding: 0.5rem 0.8rem;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  height: fit-content;\n}\n\n.dailies,\n.secondary-list {\n  flex-basis: 200px;\n}\n\n.sidebar {\n  flex-basis: 150px;\n}\n\n.list-label {\n  background-color: var(--background-color, black);\n  width: min-content;\n  padding: 0 0.5rem;\n  box-sizing: border-box;\n  margin-right: auto;\n}\n\n.secondary-list input {\n  width: 8em;\n}\n\n.todo-item,\n.todo-item-completed {\n  display: flex;\n  padding: 0.25em;\n  align-items: center;\n}\n\n.todo-item-completed {\n  color: rgb(114, 114, 114);\n  text-decoration: line-through;\n}\n\n.todo-button {\n  width: 1em;\n  height: 1em;\n  margin-right: 1em;\n  border-radius: 5px;\n  border: none;\n  background-color: #e9f0f0;\n}\n\n.todo-item-completed .todo-button {\n  background-color: rgb(73, 15, 167);\n}\n\n.todo-delete-button {\n  background-image: var(--delete-icon);\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  background-color: var(--background-color, black);\n  background-size: 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n  margin-left: auto;\n}\n\n.new-todo-button,\n.new-list-button {\n  width: fit-content;\n  padding: 0.5em 1em;\n  margin-top: clamp(1em, 5em, 25vh);\n  margin-bottom: 0.5rem;\n  margin-right: 0.5rem;\n  align-self: last baseline;\n}\n\n.list-options {\n  display: flex;\n  width: 90%;\n  height: 2rem;\n  gap: 0.5rem;\n  position: absolute;\n  top: -1rem;\n  align-items: center;\n}\n\n.list-options button {\n  width: 2rem;\n  height: 2rem;\n  border: 1px solid burlywood;\n  border-radius: 15px;\n  background-color: var(--background-color, black);\n  background-size: 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n\n.sidebar ul button {\n  display: block;\n  background-color: var(--sidebar-background-color, black);\n  border: none;\n  font-size: 1em;\n  padding: 0.5em;\n  color: var(--text-color, white);\n}\n\n#edit-list,\n#edit-item {\n  margin-left: auto;\n  background-image: var(--pencil-icon);\n}\n\n.secondary-list #edit-list.selected {\n  background-color: var(--selected-item-color);\n}\n\n#clean-list {\n  background-image: var(--broom-icon);\n}\n\nform input,\nform button,\nform textarea,\nform select {\n  display: block;\n  margin-bottom: 1em;\n}\n\ntextarea {\n  resize: none;\n}\n\n#full-screen-scrim {\n  position: absolute;\n  background-color: #6200ff20;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n/* Allows a flex container to be hidden with the hidden attribute:\nhttps://stackoverflow.com/a/48936804 */\n[hidden] {\n  display: none !important;\n}\n\n/* TODO: adjust offsets to center the item based on its width\n and height */\n/* TODO: a little drop shadow would make this look nicer. */\n.modal-with-scrim-modal {\n  padding: 2rem;\n  background-color: var(--modal-background-color, black);\n  color: var(--text-color);\n  border-radius: 10px;\n  width: 40vw;\n  height: 40vh;\n}\n\n.expandedTodoTitle {\n  margin-top: 0;\n  font-size: 1.25rem;\n  font-weight: bold;\n}\n\n.expandedTodoDescriptionContainer {\n  width: min(20em, 35vw);\n  border: solid 2px #b9b9b9;\n  border-radius: 5px;\n  padding: 0.5rem;\n}\n\n.expandedTodoDescriptionLabel {\n  margin: 0.1rem;\n}\n\n.expandedTodoDescription {\n  margin: 0;\n}\n\n.expanded-todo-edit-icon-container {\n  display: flex;\n}\n\n#edit-item {\n  width: 2rem;\n  height: 2rem;\n  border: none;\n  background-color: var(--modal-background-color, black);\n  background-size: 80%;\n  background-position: center;\n  background-repeat: no-repeat;\n}\n`,""]);const L=f},417:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},526:(e,t,n)=>{e.exports=n.p+"8d317290131028fe10cf.svg"},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},601:e=>{e.exports=function(e){return e[1]}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},664:(e,t,n)=>{e.exports=n.p+"1cf99865093dd7bb9d18.svg"},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},850:(e,t,n)=>{e.exports=n.p+"0db5d744bd54cafa1ebd.svg"},906:(e,t,n)=>{e.exports=n.p+"e31fd39afb0a5bc4fc70.svg"},951:(e,t,n)=>{e.exports=n.p+"646bfe1ba393b229372a.svg"}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var i=t[o]={id:o,exports:{}};return e[o](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");if(o.length)for(var r=o.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=o[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=document.baseURI||self.location.href,n.nc=void 0;var o=n(72),r=n.n(o),i=n(825),d=n.n(i),a=n(659),c=n.n(a),l=n(56),s=n.n(l),u=n(540),m=n.n(u),p=n(113),b=n.n(p),h=n(365),g={};g.styleTagTransform=b(),g.setAttributes=s(),g.insert=c().bind(null,"head"),g.domAPI=d(),g.insertStyleElement=m(),r()(h.A,g),h.A&&h.A.locals&&h.A.locals;class f{id;name;description;dueDate;priority;completed=!1;constructor(e,t,n,o,r){this.id=e,this.name=t,this.description=n,this.dueDate=o,this.priority=r}}class v{name="";id;todos={};itemIdCount=0;constructor(e,t){this.name=e,this.id=t}addItem(e,t,n,o){const r=this.itemIdCount++;this.todos[r]=new f(r,e,t,n,o)}removeItem(e){delete this.todos[e]}removeCompletedItems(){for(const e in this.todos)this.todos[e].completed&&delete this.todos[e]}}class y{scrim;modal;constructor(){this.createScrimDivAndAddToDom()}createScrimDivAndAddToDom(){this.scrim=document.createElement("div"),this.scrim.setAttribute("id","full-screen-scrim"),this.scrim.setAttribute("hidden",""),this.scrim.addEventListener("click",(()=>this.hideModal())),document.querySelector("body").appendChild(this.scrim)}showModal(e){this.hideModal(),e.className="modal-with-scrim-modal",this.scrim.replaceChildren(e),this.modal=e,this.modal.removeAttribute("hidden"),this.scrim.removeAttribute("hidden")}hideModal(){console.log("hide modal called"),void 0!==this.modal&&(this.modal.setAttribute("hidden",""),document.querySelector("body").appendChild(this.modal)),void 0!==this.scrim?this.scrim.setAttribute("hidden",""):console.error("The scrim should really never be undefined here.")}}const k="colorTheme",w="listIds",S="list-";function x(){return null!==localStorage.getItem(k)}function C(e){return function(e){const t=new v(e.name,e.description);t.id=e.id,t.itemIdCount=e.itemIdCount;for(const n in e.todos)t.todos[n]=L(e.todos[n]);return t}(JSON.parse(localStorage.getItem(S+e)))}function q(e){localStorage.setItem(S+e.id,JSON.stringify(e))}function L(e){const t=new f(e.id,e.name,e.description,e.dueDate,e.priority);return t.completed=e.completed,t}const T="dailies";let E;const D={};let N=1;const A=new class{updateListCallback;removeItemCallback;modalWithScrim;constructor(e,t){this.updateListCallback=e,this.removeItemCallback=t,this.modalWithScrim=new y}setColorTheme(e,t){const n="dark",o="light",r=document.documentElement;r.className=e;const i=document.querySelector("#color-theme-toggle");i.className=e,i.addEventListener("click",(e=>{e.target.className===n?(e.target.className=o,r.className=o,t(o)):(e.target.className=n,r.className=n,t(n))}))}setNewItemClickHandlers(e,t){const n=document.querySelector(".dailies .new-todo-button"),o=document.querySelector(".newDailyDialog");n.addEventListener("click",(()=>{document.querySelector("#new-daily-form").reset(),o.showModal()}));const r=document.querySelector(".secondary-list .new-todo-button"),i=document.querySelector(".newTodoDialog");r.addEventListener("click",(()=>{document.querySelector("#new-todo-form").reset(),i.showModal()})),document.querySelector("#new-daily-submit").addEventListener("click",(t=>{t.preventDefault(),e(document.querySelector("#dailyName").value),document.querySelector(".newDailyDialog").close()})),document.querySelector("#new-todo-submit").addEventListener("click",(e=>{e.preventDefault(),t(document.querySelector(".secondary-list").getAttribute("data-id"),document.querySelector("#todoName").value,document.querySelector("#todoDescription").value,document.querySelector("#todoDate").value,document.querySelector("#todoPriority").value),document.querySelector(".newTodoDialog").close()}))}setCleanButtonClickHandler(e){document.querySelector("#clean-list").addEventListener("click",(()=>{e(document.querySelector(".secondary-list").getAttribute("data-id"))}))}setEditButtonClickHandler(e,t){const n=document.querySelector(".secondary-list .list-options"),o=document.querySelector("#edit-list");o.addEventListener("click",(()=>{if("selected"===o.className){o.className="unselected";const e=document.querySelector(".secondary-list input"),r=document.createElement("span");r.id="secondary-list-label",r.className="list-label",r.textContent=""===e.value?e.getAttribute("placeholder"):e.value,n.replaceChild(r,e);const i=document.querySelectorAll(".secondary-list .todo-delete-button");for(const e of i)e.setAttribute("hidden","");t(document.querySelector(".secondary-list").getAttribute("data-id"))}else{o.className="selected";const e=document.createElement("input"),t=document.querySelector("#secondary-list-label");e.setAttribute("placeholder",t.textContent),n.replaceChild(e,t);const r=document.querySelectorAll(".secondary-list .todo-delete-button");for(const e of r)e.removeAttribute("hidden")}}))}setExpandedTodoSaveChangesButtonClickHandler(e,t,n){document.querySelector("#edit-todo-submit").addEventListener("click",(o=>{o.preventDefault();const r=document.querySelector("#expanded-edit-mode").getAttribute("data-todo-id"),i=document.querySelector("#expanded-edit-mode").getAttribute("data-list-id"),d=i==t.id?t:e[i];n(r,i,document.querySelector("#editTodoName").value,document.querySelector("#editTodoDescription").value,document.querySelector("#editTodoDate").value,document.querySelector("#editTodoPriority").value),this.modalWithScrim.showModal(this.getExpandedTodoView(d.todos[r],d))}))}initializeListSidebar(e,t){this.updateListsInSidebar(e),document.querySelector(".new-list-button").addEventListener("click",(()=>{document.querySelector("#new-list-form").reset(),document.querySelector(".newListDialog").showModal()})),document.querySelector("#new-list-submit").addEventListener("click",(n=>{n.preventDefault(),t(document.querySelector("#listName").value),this.updateListsInSidebar(e),document.querySelector(".newListDialog").close()}))}updateListsInSidebar(e){const t=document.querySelector(".sidebar ul");t.replaceChildren();for(const n in e){const o=document.createElement("button");o.textContent=e[n].name,o.setAttribute("data-id",e[n].id),o.addEventListener("click",(()=>{this.updateListUi(e[n])})),t.appendChild(o)}}updateListUi(e){if(void 0===e)return void console.error("updateListUi called on undefined list.");if("dailies"!==e.id){const t=document.querySelector("#secondary-list-label");null!==t&&(t.textContent=e.name),document.querySelector(".secondary-list").setAttribute("data-id",e.id);const n=document.querySelector('.sidebar ul button[data-id="'+String(e.id)+'"]');null!=n&&(n.textContent=e.name)}else document.querySelector(".dailies").setAttribute("data-id",e.id);const t=document.querySelector('div[data-id="'+e.id+'"] ul');t.replaceChildren();for(const n in e.todos)t.appendChild(this.createNewTodoUi(e.todos[n],e))}createNewTodoUi(e,t){const n=document.createElement("div");e.completed?n.className="todo-item-completed":n.className="todo-item",n.id="todo-item-"+e.id;const o=document.createElement("button");o.className="todo-button",o.addEventListener("click",(n=>this.onTodoClick(n,e,t)));const r=document.createElement("span");r.textContent=e.name,r.addEventListener("click",(()=>{this.modalWithScrim.showModal(this.getExpandedTodoView(e,t))}));const i=document.createElement("button");i.className="todo-delete-button";const d="selected"===document.querySelector("#edit-list").className,a=document.querySelector(".secondary-list").getAttribute("data-id");return d&&t.id===a||i.setAttribute("hidden",""),i.addEventListener("click",(()=>{this.removeItemCallback(t.id,e.id)})),n.appendChild(o),n.appendChild(r),n.appendChild(i),n}onTodoClick(e,t,n){const o=e.target.parentElement;"todo-item"===o.className?o.className="todo-item-completed":o.className="todo-item",t.completed=!t.completed,this.updateListCallback(n)}getExpandedTodoView(e,t){const n=document.querySelector("#expanded-view-mode");document.querySelector(".expandedTodoTitle").textContent=e.name,document.querySelector(".expandedTodoDescription").textContent=e.description;const o=document.querySelector(".dueDate");void 0===e.dueDate||""===e.dueDate?o.textContent="No due date set.":o.textContent="Due: "+e.dueDate;const r=document.querySelector(".priority");return void 0===e.priority||""===e.priority?r.textContent="No priority set.":r.textContent="P"+e.priority,document.querySelector("#edit-item").addEventListener("click",(()=>{this.modalWithScrim.showModal(this.getEditTodoView(e,t))})),n.addEventListener("click",(e=>{e.stopPropagation()})),n}getEditTodoView(e,t){const n=document.querySelector("#expanded-edit-mode");return n.setAttribute("data-list-id",t.id),n.setAttribute("data-todo-id",e.id),document.querySelector("#editTodoName").value=e.name,document.querySelector("#editTodoDescription").value=null==e.description?"":e.description,document.querySelector("#editTodoDate").value=e.dueDate,document.querySelector("#editTodoPriority").value=e.priority,n.addEventListener("click",(e=>{e.stopPropagation()})),n}}((e=>{q(e)}),((e,t)=>{D[e].removeItem(t),q(D[e]),A.updateListUi(D[e])}));(function(){if(!x)return!1;const e=JSON.parse(localStorage.getItem(w));if(!e)return!1;for(const t of e){const e=C(t);e&&(D[t]=e,A.updateListUi(e))}return E=C(T),A.updateListUi(E),!0})()||function(){E=new v("Dailies",T);const e=new v("Default","dropzone");D.dropzone=e,A.updateListUi(E),A.updateListUi(e)}(),A.setColorTheme(function(){const e=localStorage.getItem(k);return null===e?"dark":e}(),(e=>function(e){"light"===e||"dark"===e?localStorage.setItem(k,e):console.error(`Tried to store invalid value ${e} for color theme`)}(e))),A.register,A.setNewItemClickHandlers((e=>{E.addItem(e),q(E),A.updateListUi(E)}),((e,t,n,o,r)=>{D[e].addItem(t,n,o,r),q(D[e]),A.updateListUi(D[e])})),A.setCleanButtonClickHandler((e=>{D[e].removeCompletedItems(),q(D[e]),A.updateListUi(D[e])})),A.setEditButtonClickHandler(D,(e=>{q(D[e]),A.updateListUi(D[e])})),A.initializeListSidebar(D,(e=>{const t=++N,n=new v(e,t);D[t]=n,function(e){localStorage.setItem(w,JSON.stringify(Object.keys(e)))}(D),q(n),A.updateListUi(n)})),A.setExpandedTodoSaveChangesButtonClickHandler(D,E,((e,t,n,o,r,i)=>{const d=t==T?E:D[t],a=d.todos[e];a.name=n,a.description=o,a.dueDate=r,a.priority=i,q(d),A.updateListUi(d)}))})();